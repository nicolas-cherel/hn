montageDefine("364dc3c","lib/parse",{dependencies:["./utils"],factory:function(e,t,n){var i=e("./utils"),r={delimiter:"&",depth:5,arrayLimit:20,parametersLimit:1e3};r.parseValues=function(e,t){t="string"==typeof t?t:r.delimiter;for(var n={},a=e.split(t,r.parametersLimit),o=0,s=a.length;s>o;++o){var l=a[o],c=-1===l.indexOf("]=")?l.indexOf("="):l.indexOf("]=")+1;if(-1===c)n[i.decode(l)]="";else{var u=i.decode(l.slice(0,c)),h=i.decode(l.slice(c+1));n[u]=n[u]?[].concat(n[u]).concat(h):h}}return n},r.parseObject=function(e,t){if(!e.length)return t;var n=e.shift(),i={};if("[]"===n)i=[],i=i.concat(r.parseObject(e,t));else{var a="["===n[0]&&"]"===n[n.length-1]?n.slice(1,n.length-1):n,o=parseInt(a,10);!isNaN(o)&&n!==a&&r.arrayLimit>=o?(i=[],i[o]=r.parseObject(e,t)):i[a]=r.parseObject(e,t)}return i},r.parseKeys=function(e,t,n){if(e){var i=/^([^\[\]]*)/,a=/(\[[^\[\]]*\])/g,o=i.exec(e);if(!Object.prototype.hasOwnProperty(o[1])){var s=[];o[1]&&s.push(o[1]);for(var l=0;null!==(o=a.exec(e))&&n>l;)++l,Object.prototype.hasOwnProperty(o[1].replace(/\[|\]/g,""))||s.push(o[1]);return o&&s.push("["+e.slice(o.index)+"]"),r.parseObject(s,t)}}},n.exports=function(e,t,n){if(""===e||null===e||e===void 0)return{};"number"!=typeof t&&(n=t,t=r.depth);var a="string"==typeof e?r.parseValues(e,n):i.clone(e),o={};for(var s in a)if(a.hasOwnProperty(s)){var l=r.parseKeys(s,a[s],t);o=i.merge(o,l)}return i.compact(o)}}});